# TODO List - my-modular-workspace

**Project:** my-modular-workspace
**Purpose:** Track cross-cutting tasks and uncategorized items
**Last Updated:** 2025-11-23

---

## ðŸ“Œ Purpose of This File

This TODO tracks:
- **Cross-cutting concerns** spanning multiple components (home-manager, ansible, nixos)
- **Uncategorized items** that don't belong to a specific component
- **High-level architecture decisions** pending implementation
- **Integration tasks** between components

**Component-Specific TODOs:**
- Home-Manager: `home-manager/TODO.md`
- Ansible: `ansible/TODO.md`
- NixOS System: `/etc/nixos/TODO.md`
- Session-specific: `sessions/*/TODO.md`

---

## ðŸ”´ HIGH PRIORITY

### 1. Ansible Repository Setup
- [x] Research and implement pre-commit automation âœ… 2025-11-23
  - [x] Research cachix/git-hooks.nix
  - [x] Create home-manager/git-hooks.nix
  - [x] Create .pre-commit-config.yaml
  - [x] Create .ansible-lint and .yamllint configs
  - [x] Create Makefile for quality checks
  - [x] Create navi cheatsheets
  - [x] Document in ansible/docs/development/
- [ ] **Initialize ansible as separate git repository**
  - [ ] Create repository: github.com/dtsioumas/modular-workspace-ansible
  - [ ] Initialize git in ansible/ directory
  - [ ] Add .gitignore
  - [ ] Create initial commit with all pre-commit configs
  - [ ] Push to GitHub
  - [ ] Set up branch protection (require pre-commit checks)
  - [ ] Update my-modular-workspace documentation to reference ansible repo

### 2. Home-Manager Integration Updates
- [ ] **Add git-hooks.nix to home.nix imports**
  - [ ] Edit home-manager/home.nix
  - [ ] Add `./git-hooks.nix` to imports
  - [ ] Test: `home-manager switch`
  - [ ] Verify pre-commit hooks install automatically
- [ ] **Test pre-commit workflow**
  - [ ] Make a change to ansible playbook
  - [ ] Attempt to commit
  - [ ] Verify hooks run and pass/fail appropriately

### 3. Cross-Component Documentation
- [ ] **Create integration architecture document**
  - [ ] Document how home-manager, ansible, and NixOS interact
  - [ ] Find and document activation scripts and their timing in order to migrate to ansible jobs
  - [ ] Document shared secrets strategy (KeePassXC integration)
  - [ ] Create diagrams showing component relationships
  - [ ] Location on my-modular-workspace-docs repo: `docs/commons/integrations/KEEPASSXC_INTEGRATION.md`

---

## ðŸŸ¡ MEDIUM PRIORITY

### 4. Repository Structure Reorganization
- [ ] **Evaluate separating components into git submodules**
  - [ ] home-manager/ â†’ Separate repo?
  - [ ] ansible/ â†’ Separate repo (in progress)
  - [ ] docs/ â†’ Keep in main workspace repo
  - [ ] Pros/cons analysis
  - [ ] Decision: ADR required

### 5. Session Management
- [ ] **Clean up directories**
  - [ ] Review each session's content
  - [ ] Archive obsolete sessions
  - [ ] Update `my-modular-workspace.json` project context
  - [ ] Document session naming convention in docs/

### 6. Secrets Management Integration
- [ ] **Define cross-component secrets strategy**
  - [ ] KeePassXC vault location (currently ~/MyVault/)
  - [ ] How ansible accesses secrets from KeePassXC
  - [ ] How home-manager activation scripts access secrets
  - [ ] Secrets rotation policy
  - [ ] Chezmoi integration with KeepassXC
  - [ ] Integrate and replace KDE-Wallet with KeepassXC on home-manager config
      - [ ] Integrate secrets retrieval of dropbox and rclone with KeepassXC
  - [ ] Document in `docs/security/secrets-management.md`

---



## ðŸŸ¢ LOW PRIORITY

### 7. Workspace Metadata
- [ ] **Create workspace manifest file**
  - [ ] `workspace.json` with:
    - Component locations
    - Repository URLs
    - Version information
    - Last successful builds
  - [ ] Used by maintenance scripts
  - [ ] Validated on home-manager switch

### 8. Development Environment
- [ ] **Create development shell for workspace**
  - [ ] `shell.nix` at workspace root
  - [ ] Includes: ansible, pre-commit, home-manager
  - [ ] Quick commands to test all components
  - [ ] Useful for contributors

### 9. CI/CD for Workspace
- [ ] **GitHub Actions for workspace validation**
  - [ ] Validate all component TODOs are well-formed
  - [ ] Check for broken symlinks
  - [ ] Verify documentation links
  - [ ] Run ansible playbook syntax checks
  - [ ] Run home-manager build checks

---

## ðŸ“‹ REFERENCE

### Workspace Structure

```

```

### Component Dependencies

```
NixOS System (/etc/nixos/)
    â†“ provides base system
home-manager (standalone flake)
    â†“ configures user environment
    â†“ installs ansible, pre-commit, etc.
ansible (automation)
    â†“ manages services, configs
    â†“ integrates with systemd
```

---

## ðŸ“Š Completion Status

**Overall Progress:** ~15% (automation setup complete, repo setup pending)

**By Priority:**
- ðŸ”´ High: 33% (1 of 3 completed)
- ðŸŸ¡ Medium: 0% (0 of 3 started)
- ðŸŸ¢ Low: 0% (0 of 3 started)

**Recent Activity:**
- âœ… 2025-11-23: Completed Ansible pre-commit automation research and setup
- âœ… 2025-11-23: Created comprehensive documentation (1350+ lines)
- âœ… 2025-11-23: Created all configuration files (.ansible-lint, .yamllint, Makefile)
- âœ… 2025-11-23: Created navi cheatsheets for ansible operations
- âœ… 2025-11-23: Added maintenance tasks to session and ansible TODOs

**Next Session Focus:**
1. Initialize ansible git repository
2. Integrate git-hooks.nix with home-manager
3. Continue with rclone collection migration (original priority #1)

---

**Maintainer:** mitsio
**Project Type:** Personal workspace configuration system
**Status:** Active Development (Phase 1 - Monolithic home-manager)
